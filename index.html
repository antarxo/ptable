<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <title>Περιοδικός Πίνακας – Info Panel Positioning</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
  <style>
    /* Βασικές ρυθμίσεις */
    body {
      font-family: 'Roboto', sans-serif;
      margin: 0;
      overflow: hidden;
      background: #f7f7f7;
    }
    /* Τίτλος */
    #title {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 24px;
      font-weight: bold;
      z-index: 50;
    }
    /* Info Panel – αυτό το div εμφανίζεται ανάλογα με το view */
    #infoPanel {
      background: rgba(255,255,255,0.95);
      border: 2px solid #333;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      padding: 20px;
      position: absolute;
      z-index: 40;
      transition: all 1.5s ease;
    }
    /* Fixed κουμπιά στο #rightPanel, ορισμένα με πλάτος 150px */
    #rightPanel {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 150px;
      display: flex;
      flex-direction: column;
      gap: 5px;
      z-index: 100;
    }
    /* Παράδειγμα θέσεων καμβάδων τομέων */
    /* s τομέας */
    #canvasS {
      position: absolute;
      left: 50px;
      top: 100px;
      width: 84px;
      height: 294px; /* 7 rows x 42px */
      background: #ffcccc;
    }
    /* f τομέας */
    #canvasF {
      position: absolute;
      left: 134px;
      top: 100px;
      width: 588px;
      height: 294px;
      background: #ffe5cc;
    }
    /* d τομέας */
    #canvasD {
      position: absolute;
      left: 134px;
      top: 100px;
      width: 420px;
      height: 294px;
      background: #ccccff;
    }
    /* p τομέας */
    #canvasP {
      position: absolute;
      left: 134px; /* αρχική τιμή στο full view; θα μετατοπιστεί δυναμικά */
      top: 100px;
      width: 252px;
      height: 294px;
      background: #ccffcc;
    }
    /* Στην collapsed view, μετατοπίσεις: */
    body.collapsed #canvasF {
      left: 154px;  /* 134 + 20 */
      top: 190px;   /* 100 + 90 */
    }
    body.collapsed #canvasP {
      left: 554px;  /* 134 + 420, δίπλα στον d */
      top: 100px;
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
</head>
<body class="full">
  <div id="title">Περιοδικός Πίνακας</div>
  
  <!-- Καμβάδες τομέων -->
  <div id="canvasS"></div>
  <div id="canvasF"></div>
  <div id="canvasD"></div>
  <div id="canvasP"></div>
  
  <!-- Info Panel -->
  <div id="infoPanel">
    <div id="leftPanel">Info Left</div>
    <div id="middlePanel">Info Right</div>
  </div>
  
  <!-- Fixed κουμπιά -->
  <div id="rightPanel">
    <button id="nextElement">Επόμενο</button>
    <button id="fillAll">Συμπλήρωσε</button>
    <button id="toggleFBlock">Εναλλαγή f-στοιχείων</button>
    <button id="reset">Reset</button>
  </div>
  
  <script>
    function updateInfoPanelPosition() {
      const infoPanel = document.getElementById('infoPanel');
      const W = window.innerWidth;
      if(document.body.classList.contains('collapsed')){
        // Collapsed view:
        // p τομέας στην collapsed view έχει: left = 554px, width = 252px → δεξιό άκρο = 554 + 252 = 806px.
        // infoPanel.left = p.right + 42 = 806 + 42 = 848px.
        // infoPanel.width = W – (p.right) – 82 = W – 806 – 82 = W – 888.
        infoPanel.style.top = "100px";
        infoPanel.style.left = "848px";
        infoPanel.style.width = (W - 888) + "px";
      } else {
        // Full view:
        // infoPanel.top = 500px, left = 20px, width = W – (πλάτος κουμπιών) – 60.
        // Εδώ θεωρούμε πλάτος κουμπιών = 150px → width = W – 210.
        infoPanel.style.top = "500px";
        infoPanel.style.left = "20px";
        infoPanel.style.width = (W - 210) + "px";
      }
    }
    
    // Ενημέρωση infoPanel κατά φόρτωση και resize
    window.addEventListener('load', updateInfoPanelPosition);
    window.addEventListener('resize', updateInfoPanelPosition);
    
    // Dummy handlers για κουμπιά (για δοκιμή)
    let currentZ = 0;
    document.getElementById('nextElement').addEventListener('click', () => {
      currentZ++;
      console.log("currentZ:", currentZ);
    });
    document.getElementById('fillAll').addEventListener('click', () => {
      currentZ = 122;
      console.log("currentZ:", currentZ);
    });
    document.getElementById('reset').addEventListener('click', () => {
      currentZ = 0;
      console.log("currentZ:", currentZ);
    });
    
    // Dummy toggle για το collapsed view
    document.getElementById('toggleFBlock').addEventListener('click', () => {
      if(currentZ < 122) return; // Απενεργοποιούμε αν δεν έχει φτάσει
      document.body.classList.toggle('collapsed');
      updateInfoPanelPosition();
    });
  </script>
</body>
</html>
