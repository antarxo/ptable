<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <title>Περιοδικός Πίνακας</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: #f0f0f0;
      font-family: Arial, sans-serif;
    }

    .container {
      position: relative;
      height: 100vh;
    }

    .block {
      position: absolute;
      transition: all 0.5s ease-in-out;
    }

    /* Στυλ για τους καμβάδες */
    #s-block { left: 50px; top: 100px; width: 84px; }
    #f-block { left: 134px; top: 100px; width: 588px; }
    #d-block { left: 722px; top: 100px; width: 420px; }
    #p-block { left: 1142px; top: 100px; width: 252px; }

    /* Συνεπτυγμένη μορφή */
    .collapsed #f-block { top: 200px; left: 144px; width: 1326px; }
    .collapsed #d-block { left: 140px; }
    .collapsed #p-block { left: 560px; }

    /* Στυλ ομάδων */
    .group-labels {
      position: absolute;
      display: flex;
      gap: 42px;
      background: rgba(200,200,200,0.9);
      padding: 2px 5px;
      border-radius: 3px;
    }

    .group-label {
      width: 42px;
      text-align: center;
      font-weight: bold;
      color: #333;
      font-size: 12px;
    }

    /* Περίοδοι */
    .period-label {
      position: absolute;
      left: 20px;
      font-weight: bold;
      color: #333;
      background: rgba(200,200,200,0.9);
      padding: 2px 5px;
      border-radius: 3px;
      display: none;
    }

    /* Πληροφορίες */
    #infoPanel {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Ομάδες -->
    <div class="group-labels" id="s-groups" style="top: 80px; left: 50px">
      <div class="group-label new">1</div>
      <div class="group-label new">2</div>
      <div class="group-label old">IA</div>
      <div class="group-label old">IIA</div>
    </div>

    <div class="group-labels" id="d-groups" style="top: 80px; left: 722px">
      <!-- Νέα αρίθμηση 3-12 -->
      <div class="group-label new">3</div><div>4</div><div>5</div><div>6</div>
      <div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div>
      <!-- Παλιά αρίθμηση -->
      <div class="group-label old">IIIB</div><div>IVB</div><div>VB</div>
      <div>VIB</div><div>VIIB</div><div>VIII</div><div>VIII</div>
      <div>VIII</div><div>IB</div><div>IIB</div>
    </div>

    <div class="group-labels" id="p-groups" style="top: 80px; left: 1142px">
      <div class="group-label new">13</div><div>14</div><div>15</div>
      <div>16</div><div>17</div><div>18</div>
      <div class="group-label old">IIIA</div><div>IVA</div><div>VA</div>
      <div>VIA</div><div>VIIA</div><div>VIIIA</div>
    </div>

    <!-- Περίοδοι -->
    <div class="period-label" style="top: 110px">1η K</div>
    <div class="period-label" style="top: 152px">2η L</div>
    <div class="period-label" style="top: 194px">3η M</div>
    <div class="period-label" style="top: 236px">4η N</div>
    <div class="period-label" style="top: 278px">5η O</div>
    <div class="period-label" style="top: 320px">6η P</div>
    <div class="period-label" style="top: 362px">7η Q</div>

    <!-- Blocks -->
    <div id="s-block" class="block"></div>
    <div id="f-block" class="block"></div>
    <div id="d-block" class="block"></div>
    <div id="p-block" class="block"></div>

    <!-- Controls -->
    <div id="infoPanel">
      <button id="next">Επόμενο</button>
      <button id="fillAll">Συμπλήρωσε</button>
      <button id="toggleF">Εναλλαγή f-block</button>
      <button id="reset">Reset</button>
      <div id="remarks"></div>
    </div>
  </div>

  <script>
    let currentZ = 0;
    let showOldGroups = false;
    const elements = Array.from({length: 118}, (_,i) => i+1);

    // Αρχικοποίηση
    document.addEventListener('DOMContentLoaded', () => {
      updateRemarks('Πατήστε "Επόμενο" για να ξεκινήσετε');
      document.querySelectorAll('.group-labels, .period-label').forEach(el => el.style.display = 'none');
    });

    // Ενημέρωση περιεχομένων
    function updateRemarks(text) {
      document.getElementById('remarks').textContent = text;
    }

    // Λειτουργίες κουμπιών
    document.getElementById('next').addEventListener('click', () => {
      if(currentZ < 118) currentZ++;
      updateDisplay();
    });

    document.getElementById('fillAll').addEventListener('click', async () => {
      for(let i = currentZ; i <= 118; i++) {
        currentZ = i;
        await new Promise(r => setTimeout(r, 10));
        updateDisplay();
      }
      showSpecialElements();
    });

    document.getElementById('toggleF').addEventListener('click', () => {
      document.body.classList.toggle('collapsed');
    });

    document.getElementById('reset').addEventListener('click', () => {
      currentZ = 0;
      document.body.classList.remove('collapsed');
      document.querySelectorAll('.group-labels, .period-label').forEach(el => el.style.display = 'none');
      updateRemarks('Επαναφορά συστήματος');
    });

    // Εμφάνιση ειδικών στοιχείων
    function showSpecialElements() {
      setTimeout(() => {
        currentZ = 3;
        updateDisplay();
        setTimeout(() => {
          currentZ = 1;
          updateDisplay();
          setTimeout(() => {
            currentZ = 2;
            updateDisplay();
            showGroupsAndPeriods();
          }, 300);
        }, 300);
      }, 500);
    }

    // Εμφάνιση ομάδων και περιόδων
    function showGroupsAndPeriods() {
      document.querySelectorAll('.period-label').forEach(el => el.style.display = 'block');
      document.querySelectorAll('.group-labels').forEach(el => {
        el.style.display = 'flex';
        el.addEventListener('click', toggleGroupNumbering);
      });
    }

    // Εναλλαγή αρίθμησης
    function toggleGroupNumbering() {
      showOldGroups = !showOldGroups;
      document.querySelectorAll('.group-label').forEach(label => {
        label.style.display = showOldGroups ? 
          (label.classList.contains('old') ? 'block' : 'none') :
          (label.classList.contains('new') ? 'block' : 'none');
      });
    }

    // Βασική ενημέρωση
    function updateDisplay() {
      // Προσομοίωση εμφάνισης στοιχείων
      const visibleElements = elements.slice(0, currentZ).filter(n => n > 3 || n === 0);
      updateRemarks(`Εμφανίζονται ${visibleElements.length} στοιχεία`);
    }
  </script>
</body>
</html>
