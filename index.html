<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <title>Δυναμικός Περιοδικός Πίνακας - Δοκιμή Λογικής</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f7f7f7;
      text-align: center;
    }
    #tableContainer {
      display: grid;
      gap: 2px;
      justify-content: center;
      margin: 20px auto;
    }
    .element {
      width: 50px;
      height: 50px;
      line-height: 50px;
      text-align: center;
      font-size: 14px;
      border: 1px solid #555;
      background-color: #ddd;
      cursor: pointer;
      user-select: none;
    }
    /* Απλά παραδείγματα χρωμάτων ανά κατηγορία */
    .s-block { background-color: #ffb3b3; }
    .p-block { background-color: #b3ffb3; }
    .d-block { background-color: #b3b3ff; }
    #electronConfig {
      max-width: 600px;
      margin: 20px auto;
      padding: 10px;
      border: 2px solid #333;
      background-color: #fff;
      text-align: left;
    }
  </style>
</head>
<body>
  <div id="tableContainer"></div>
  <div id="electronConfig">Κάνε κλικ σε ένα στοιχείο για λεπτομέρειες</div>

  <script>
    // Δημιουργούμε πίνακα με στοιχεία από το 3 έως το 36
    const elements = [];
    for (let n = 3; n <= 36; n++) {
      let category;
      // Ορισμός κατηγορίας με βάση το στοιχείο (παράδειγμα, μπορείς να το προσαρμόσεις)
      if (n === 3 || n === 4 || n === 11 || n === 12 || n === 19 || n === 20) {
         category = 's-block';
      } else if (n >= 21 && n <= 30) {
         category = 'd-block';
      } else {
         category = 'p-block';
      }
      elements.push({ 
        number: n, 
        category: category, 
        electronConfig: `1s² ... ${n}` 
      });
    }
    
    const tableContainer = document.getElementById('tableContainer');
    const electronConfigDiv = document.getElementById('electronConfig');
    
    let grid = [];       // Ο πίνακας (array) με τις γραμμές του πίνακα
    let totalColumns = 0; // Ο τρέχων συνολικός αριθμός στηλών σε κάθε γραμμή

    // Δημιουργεί ένα κελί για ένα στοιχείο
    function createCell(elObj) {
      const div = document.createElement('div');
      div.className = 'element ' + elObj.category;
      div.textContent = elObj.number;
      div.addEventListener('click', () => {
         electronConfigDiv.innerHTML = `<strong>Στοιχείο ${elObj.number}:</strong><br>${elObj.electronConfig}`;
      });
      return div;
    }
    
    // Εμφανίζει το grid στον container
    function renderGrid() {
      tableContainer.innerHTML = '';
      tableContainer.style.gridTemplateColumns = `repeat(${totalColumns}, 50px)`;
      for (let r = 0; r < grid.length; r++) {
        for (let c = 0; c < totalColumns; c++) {
          if (grid[r][c]) {
             tableContainer.appendChild(grid[r][c]);
          } else {
             // Κενό κελί (για διατήρηση της διάταξης)
             const emptyDiv = document.createElement('div');
             emptyDiv.className = 'element';
             emptyDiv.style.backgroundColor = '#fff';
             tableContainer.appendChild(emptyDiv);
          }
        }
      }
    }
    
    // Εισάγει νέα στήλη σε κάθε γραμμή στο συγκεκριμένο index
    function insertColumnAt(index) {
      for (let r = 0; r < grid.length; r++) {
         grid[r].splice(index, 0, null);
      }
      totalColumns++;
    }
    
    // Δημιουργούμε το grid σύμφωνα με τη λογική που περιέγραψες
    function buildTable() {
      /* Phase 1: Γραμμή 1 για στοιχεία 3 έως 10.
         Ξεκινάμε με 1 κελί και προσθέτουμε σταδιακά μέχρι να έχουμε 8 στοιχεία. */
      let row0 = [];
      for (let i = 0; i < 8; i++) { // στοιχεία elements[0] έως elements[7]
         row0.push(createCell(elements[i]));
      }
      totalColumns = row0.length; // εδώ γίνεται 8
      grid.push(row0);
      
      /* Phase 2: Γραμμή 2 για στοιχεία 11 έως 18.
         Δημιουργούμε μια γραμμή με 8 κελιά και τοποθετούμε τα στοιχεία στις πρώτες 8 θέσεις. */
      let row1 = new Array(totalColumns).fill(null);
      for (let i = 0; i < 8; i++) {
         row1[i] = createCell(elements[8 + i]); // elements[8] έως elements[15]
      }
      grid.push(row1);
      
      /* Phase 3: Γραμμή 3 για στοιχεία 19 και 20.
         Δημιουργούμε μια γραμμή με 8 κελιά και τοποθετούμε τα στοιχεία στα πρώτα 2 κελιά. */
      let row2 = new Array(totalColumns).fill(null);
      row2[0] = createCell(elements[16]); // στοιχείο 19
      row2[1] = createCell(elements[17]); // στοιχείο 20
      grid.push(row2);
      
      /* Phase 4: Για στοιχεία 21 έως 30.
         Για κάθε στοιχείο εισάγουμε νέα στήλη δεξιά από το τελευταίο τοποθετημένο κελί στη γραμμή 3.
         Η μεταβλητή insertionIndex ξεκινάει από τη θέση 2 (δηλαδή μετά το στοιχείο 20). */
      let insertionIndex = 2;
      for (let i = 0; i < 10; i++) {
         // Εισαγωγή νέας στήλης στο index insertionIndex σε όλες τις γραμμές
         insertColumnAt(insertionIndex);
         // Τοποθέτηση του επόμενου στοιχείου στη γραμμή 3 στο κελί που μόλις δημιουργήθηκε
         let el = createCell(elements[18 + i]); // elements[18] έως elements[27] αντιστοιχούν στα 21-30
         grid[2][insertionIndex] = el;
         // Μετατοπίσουμε το insertionIndex για το επόμενο στοιχείο
         insertionIndex++;
      }
      
      /* Phase 5: Για στοιχεία 31 έως 36.
         Μετά το στοιχείο 30, τα κελιά που απομένουν στη γραμμή 3 (μέχρι το συνολικό width του grid)
         είναι ακριβώς 6 και εκεί τοποθετούμε τα στοιχεία 31 έως 36. */
      let freeIndex = insertionIndex; // η πρώτη κενή θέση στη γραμμή 3
      for (let i = 0; i < 6; i++) {
         grid[2][freeIndex] = createCell(elements[28 + i]); // elements[28] έως elements[33] για τα 31-36
         freeIndex++;
      }
      
      renderGrid();
    }
    
    // Δημιουργούμε το πίνακα με την παραπάνω λογική αμέσως με το φόρτωμα της σελίδας.
    buildTable();
  </script>
</body>
</html>
