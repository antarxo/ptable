<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <title>Στατικός Περιοδικός Πίνακας</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
  <style>
    /* ... όλα τα styles όπως στο προηγούμενο παράδειγμα ... */
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
</head>
<body class="full">
  <div id="title">Στατικός Περιοδικός Πίνακας</div>
  <div id="infoPanel">
    <!-- ... ίδια δομή πληροφοριών ... -->
  </div>
  <div id="controls">
    <!-- ... ίδια κουμπιά ελέγχου ... -->
  </div>
  <div id="canvasS"></div>
  <div id="canvasF"></div>
  <div id="canvasD"></div>
  <div id="canvasP"></div>

  <script>
    (function() {
      const BLOCK_STRUCTURE = {
        's': { cols: 2, start: 1, rows: [ [1,2], [3,4], [11,12], [19,20], [37,38], [55,56], [87,88] ] },
        'f': { cols: 14, start: 58, rows: [ 
          Array.from({length:14}, (_,i) => 58 + i), // Λανθανίδες
          Array.from({length:14}, (_,i) => 90 + i)  // Ακτινίδες
        ]},
        'd': { cols: 10, start: 21, rows: [
          Array.from({length:10}, (_,i) => 21 + i),
          Array.from({length:10}, (_,i) => 39 + i),
          Array.from({length:10}, (_,i) => 71 + i),
          Array.from({length:10}, (_,i) => 103 + i)
        ]},
        'p': { cols: 6, start: 5, rows: [
          [5,6,7,8,9,10],
          [13,14,15,16,17,18],
          [31,32,33,34,35,36],
          [49,50,51,52,53,54],
          [81,82,83,84,85,86],
          [113,114,115,116,117,118]
        ]}
      };

      let elementsData = [];
      let filledElements = new Set();
      let currentElement = 3;
      let mode = "full";

      async function loadData() {
        try {
          const response = await fetch('elements.json');
          elementsData = await response.json();
        } catch (err) {
          console.error('Σφάλμα φόρτωσης:', err);
        }
      }

      function getBlockType(number) {
        if(number === 1 || number === 2) return 's';
        if(number >= 58 && number <= 71) return 'f';
        if(number >= 90 && number <= 103) return 'f';
        if(number >= 21 && number <= 30) return 'd';
        if(number >= 39 && number <= 48) return 'd';
        if(number >= 5 && number <= 10) return 'p';
        if(number >= 13 && number <= 18) return 'p';
        return 's';
      }

      function findPosition(number) {
        const block = BLOCK_STRUCTURE[getBlockType(number)];
        for(let rowIdx = 0; rowIdx < block.rows.length; rowIdx++) {
          const colIdx = block.rows[rowIdx].indexOf(number);
          if(colIdx > -1) return { block, row: rowIdx, col: colIdx };
        }
        return null;
      }

      function drawBlock(p, blockType) {
        p.background(255);
        p.stroke(150);
        const block = BLOCK_STRUCTURE[blockType];
        
        for(let row = 0; row < block.rows.length; row++) {
          for(let col = 0; col < block.cols; col++) {
            const number = block.rows[row][col];
            const x = col * 42;
            const y = row * 42;
            
            if(filledElements.has(number)) {
              p.fill(200);
              p.rect(x, y, 40, 40, 5);
              p.fill(0);
              p.textSize(14);
              p.textAlign(p.CENTER, p.CENTER);
              p.text(number, x + 20, y + 20);
            }
          }
        }
      }

      function addNextElement() {
        if(currentElement > 118) return;
        
        const pos = findPosition(currentElement);
        if(pos) {
          filledElements.add(currentElement);
          updateInfoPanel(currentElement);
          redrawAll();
        }
        currentElement++;
      }

      function updateInfoPanel(number) {
        const element = elementsData.find(e => e.number === number);
        if(!element) return;
        
        document.getElementById('elementInfo').innerHTML = 
          `<strong>${element.name} (${element.symbol}) [Z=${number}]</strong>`;
        // ... ενημέρωση υπολοίπων πεδίων ...
      }

      // Δημιουργία sketches και event listeners
      const sketches = {
        s: new p5(p => { p.setup = () => p.createCanvas(124, 336); p.draw = () => drawBlock(p, 's') }, 'canvasS'),
        f: new p5(p => { p.setup = () => p.createCanvas(586, 336); p.draw = () => drawBlock(p, 'f') }, 'canvasF'),
        d: new p5(p => { p.setup = () => p.createCanvas(418, 336); p.draw = () => drawBlock(p, 'd') }, 'canvasD'),
        p: new p5(p => { p.setup = () => p.createCanvas(250, 336); p.draw = () => drawBlock(p, 'p') }, 'canvasP')
      };

      function redrawAll() {
        Object.values(sketches).forEach(s => s.redraw());
      }

      document.getElementById('nextElement').addEventListener('click', addNextElement);
      document.getElementById('fillAll').addEventListener('click', () => {
        while(currentElement <= 118) addNextElement();
      });
      document.getElementById('reset').addEventListener('click', () => {
        filledElements.clear();
        currentElement = 3;
        redrawAll();
      });

      loadData();
    })();
  </script>
</body>
</html>
