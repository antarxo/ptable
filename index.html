<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <title>Παρουσίαση: Στοιχεία 3-10 &amp; 11-18 σε Δύο Γραμμές</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f7f7f7;
      margin: 20px;
    }
    /* Container ως grid: 8 στήλες για 8 στοιχεία ανά γραμμή */
    #elementsContainer {
      display: grid;
      grid-template-columns: repeat(8, 40px);
      grid-auto-rows: 40px;
      gap: 2px;
      justify-content: center;
      margin: 20px auto;
    }
    /* Στυλ για τα κουτάκια των στοιχείων */
    .element {
      width: 40px;
      height: 40px;
      line-height: 40px;
      text-align: center;
      font-size: 14px;
      border: 1px solid #555;
      background-color: #ddd;
      cursor: pointer;
      user-select: none;
    }
    .element.s-block {
      background-color: #ffb3b3;
    }
    .element.p-block {
      background-color: #b3ffb3;
    }
    /* Container για την ηλεκτρονιακή δόμηση */
    #electronConfig {
      max-width: 600px;
      margin: 20px auto;
      padding: 10px;
      border: 2px solid #333;
      background-color: #fff;
      cursor: pointer;
      user-select: none;
    }
    /* Εφέ επέκτασης */
    #electronConfig.expanded {
      background-color: #eef;
    }
    /* Στυλ για τα κουμπιά */
    #nextElement, #continue {
      display: block;
      margin: 20px auto;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <!-- Container για τα στοιχεία σε grid -->
  <div id="elementsContainer"></div>

  <!-- Κουμπιά ελέγχου -->
  <button id="nextElement">Επόμενο Στοιχείο</button>
  <button id="continue" style="display:none;">Συνέχεια</button>

  <!-- Container για την ηλεκτρονιακή δόμηση -->
  <div id="electronConfig">
    Κάνε κλικ για λεπτομερή δομή
  </div>

  <script>
    /* Δεδομένα πρώτης φάσης: Στοιχεία 3 έως 10 (γραμμή 1) */
    const firstPhaseElements = [
      { number: 3, category: 's-block', electronConfig: '1s2 2s1' },
      { number: 4, category: 's-block', electronConfig: '1s2 2s2' },
      { number: 5, category: 'p-block', electronConfig: '1s2 2s2 2p1' },
      { number: 6, category: 'p-block', electronConfig: '1s2 2s2 2p2' },
      { number: 7, category: 'p-block', electronConfig: '1s2 2s2 2p3' },
      { number: 8, category: 'p-block', electronConfig: '1s2 2s2 2p4' },
      { number: 9, category: 'p-block', electronConfig: '1s2 2s2 2p5' },
      { number: 10, category: 'p-block', electronConfig: '1s2 2s2 2p6' }
    ];
    
    /* Δεδομένα δεύτερης φάσης: Στοιχεία 11 έως 18 (γραμμή 2) */
    const secondPhaseElements = [
      { number: 11, category: 's-block', electronConfig: '1s2 2s2 2p6 3s1' },
      { number: 12, category: 's-block', electronConfig: '1s2 2s2 2p6 3s2' },
      { number: 13, category: 'p-block', electronConfig: '1s2 2s2 2p6 3s2 3p1' },
      { number: 14, category: 'p-block', electronConfig: '1s2 2s2 2p6 3s2 3p2' },
      { number: 15, category: 'p-block', electronConfig: '1s2 2s2 2p6 3s2 3p3' },
      { number: 16, category: 'p-block', electronConfig: '1s2 2s2 2p6 3s2 3p4' },
      { number: 17, category: 'p-block', electronConfig: '1s2 2s2 2p6 3s2 3p5' },
      { number: 18, category: 'p-block', electronConfig: '1s2 2s2 2p6 3s2 3p6' }
    ];
    
    // Μεταβλητές ελέγχου φάσεων
    let currentPhase = 1;
    let indexPhase1 = 0;
    let indexPhase2 = 0; // για τη δεύτερη φάση
    
    const elementsContainer = document.getElementById('elementsContainer');
    const electronConfigDiv = document.getElementById('electronConfig');
    const nextElementBtn = document.getElementById('nextElement');
    const continueBtn = document.getElementById('continue');
    
    /* Συνάρτηση μορφοποίησης ηλεκτρονιακής δομής (χρησιμοποιεί <sup> για τους εκθέτες) */
    function formatElectronConfig(configStr) {
      const parts = configStr.split(' ');
      const shells = {};
      parts.forEach(part => {
        const match = part.match(/^(\d+)([spdf])(\d+)/);
        if (match) {
          const shellNum = match[1];
          const formatted = `${match[1]}${match[2]}<sup>${match[3]}</sup>`;
          if (!shells[shellNum]) shells[shellNum] = [];
          shells[shellNum].push(formatted);
        }
      });
      const shellLabels = {
        '1': 'Κ (2)',
        '2': 'L (8)',
        '3': 'M (18)',
        '4': 'N (32)'
      };
      let html = '';
      Object.keys(shells).sort((a, b) => a - b).forEach(shell => {
        html += `<div>${shellLabels[shell] || ('Στίβα ' + shell)}: ${shells[shell].join(' ')}</div>`;
      });
      return html;
    }
    
    /* Συνάρτηση που δημιουργεί και προσθέτει το κουτάκι ενός στοιχείου */
    function revealElement(el) {
      const elDiv = document.createElement('div');
      elDiv.className = `element ${el.category}`;
      elDiv.textContent = el.number;
      elDiv.addEventListener('click', (e) => {
        e.stopPropagation();
        electronConfigDiv.innerHTML = `<strong>Στοιχείο ${el.number}:</strong><br>${formatElectronConfig(el.electronConfig)}`;
        electronConfigDiv.classList.toggle('expanded');
      });
      elementsContainer.appendChild(elDiv);
    }
    
    /* Συνάρτηση ενημέρωσης του πλαισίου με τη δομή του στοιχείου */
    function updateElectronConfig(el, extraText = '') {
      electronConfigDiv.innerHTML = `<strong>Στοιχείο ${el.number}:</strong><br>${formatElectronConfig(el.electronConfig)}${extraText}`;
    }
    
    /* Event handler για το κουμπί "Επόμενο Στοιχείο" */
    nextElementBtn.addEventListener('click', () => {
      if (currentPhase === 1) {
        if (indexPhase1 < firstPhaseElements.length) {
          const el = firstPhaseElements[indexPhase1];
          revealElement(el);
          updateElectronConfig(el);
          indexPhase1++;
        } else {
          // Μετά το στοιχείο 10, εμφανίζεται το στοιχείο 11 στη θέση 1 της δεύτερης γραμμής
          const el = secondPhaseElements[0]; // στοιχείο 11
          revealElement(el);
          updateElectronConfig(el, `<br><br><em>Παρατηρείστε τη δομή του στοιχείου. Περιλαμβάνει ίδιο αριθμό ηλεκτρονίων εξωτερικής στιβάδας με το στοιχείο 3. Έχει επομένως τις ίδιες ιδιότητες με αυτό. Ας το γράψουμε λοιπόν κάτω από αυτό.</em>`);
          currentPhase = 2;
          indexPhase2 = 1; // το στοιχείο 11 έχει ήδη τοποθετηθεί
          nextElementBtn.style.display = 'none';
          continueBtn.style.display = 'block';
        }
      }
    });
    
    /* Event handler για το κουμπί "Συνέχεια" (προσθήκη στοιχείων 12 έως 18 στη δεύτερη γραμμή) */
    continueBtn.addEventListener('click', () => {
      if (currentPhase === 2) {
        if (indexPhase2 < secondPhaseElements.length) {
          const el = secondPhaseElements[indexPhase2];
          revealElement(el);
          updateElectronConfig(el);
          indexPhase2++;
          if (indexPhase2 === secondPhaseElements.length) {
            continueBtn.disabled = true;
            continueBtn.textContent = 'Τέλος';
          }
        }
      }
    });
    
    /* Εναλλαγή εμφάνισης λεπτομερειών με κλικ στο πλαίσιο δομής */
    electronConfigDiv.addEventListener('click', () => {
      electronConfigDiv.classList.toggle('expanded');
    });
    
  </script>
</body>
</html>
