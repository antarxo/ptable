<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <title>Παρουσίαση: Περίοδοι έως το Στοιχείο 30</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f7f7f7;
      margin: 20px;
    }
    /* Περίοδος 2: grid με 8 στήλες */
    #period2 {
      display: grid;
      grid-template-columns: repeat(8, 40px);
      gap: 2px;
      justify-content: center;
      margin-bottom: 20px;
    }
    /* Περίοδος 3: grid με 9 στήλες (στήλες 1-2 για s‑block, στήλη 3 κενή, στήλες 4–9 για p‑block) */
    #period3 {
      display: grid;
      grid-template-columns: repeat(9, 40px);
      gap: 2px;
      justify-content: center;
      margin-bottom: 20px;
    }
    /* Περίοδος 4: grid με 14 στήλες ώστε να χωρέσει τη μετατόπιση του d‑block */
    #period4 {
      display: grid;
      grid-template-columns: repeat(14, 40px);
      gap: 2px;
      justify-content: center;
      margin-bottom: 20px;
    }
    /* Στυλ για τα κουτάκια των στοιχείων */
    .element {
      width: 40px;
      height: 40px;
      line-height: 40px;
      text-align: center;
      font-size: 14px;
      border: 1px solid #555;
      background-color: #ddd;
      cursor: pointer;
      user-select: none;
    }
    .element.s-block { background-color: #ffb3b3; }
    .element.p-block { background-color: #b3ffb3; }
    .element.d-block { background-color: #b3b3ff; }
    /* Πλαίσιο εμφάνισης ηλεκτρονιακής δομής */
    #electronConfig {
      max-width: 600px;
      margin: 20px auto;
      padding: 10px;
      border: 2px solid #333;
      background-color: #fff;
      cursor: pointer;
      user-select: none;
    }
    #electronConfig.expanded { background-color: #eef; }
    /* Στυλ για τα κουμπιά */
    #nextElement, #continue {
      display: block;
      margin: 20px auto;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <!-- Containers για τις τρεις περιόδους -->
  <div id="period2"></div>
  <div id="period3"></div>
  <div id="period4"></div>

  <!-- Κουμπιά Ελέγχου -->
  <button id="nextElement">Επόμενο Στοιχείο</button>
  <button id="continue" style="display:none;">Συνέχεια</button>

  <!-- Πλαίσιο για την ηλεκτρονιακή δομή -->
  <div id="electronConfig">Κάνε κλικ για λεπτομερή δομή</div>

  <script>
    // Δεδομένα Περίοδου 2: στοιχεία 3–10
    const period2Elements = [
      { number: 3, category: 's-block', electronConfig: '1s2 2s1' },
      { number: 4, category: 's-block', electronConfig: '1s2 2s2' },
      { number: 5, category: 'p-block', electronConfig: '1s2 2s2 2p1' },
      { number: 6, category: 'p-block', electronConfig: '1s2 2s2 2p2' },
      { number: 7, category: 'p-block', electronConfig: '1s2 2s2 2p3' },
      { number: 8, category: 'p-block', electronConfig: '1s2 2s2 2p4' },
      { number: 9, category: 'p-block', electronConfig: '1s2 2s2 2p5' },
      { number: 10, category: 'p-block', electronConfig: '1s2 2s2 2p6' }
    ];
    
    // Δεδομένα Περίοδου 3: στοιχεία 11–18  
    // Σημείωση: τα 2 πρώτα (11,12) τοποθετούνται κανονικά, από το 13 και μετά (6 στοιχεία) θα "forced" τοποθετηθούν ώστε να ξεκινήσουν από τη στήλη 4.
    const period3Elements = [
      { number: 11, category: 's-block', electronConfig: '1s2 2s2 2p6 3s1' },
      { number: 12, category: 's-block', electronConfig: '1s2 2s2 2p6 3s2' },
      { number: 13, category: 'p-block', electronConfig: '1s2 2s2 2p6 3s2 3p1' },
      { number: 14, category: 'p-block', electronConfig: '1s2 2s2 2p6 3s2 3p2' },
      { number: 15, category: 'p-block', electronConfig: '1s2 2s2 2p6 3s2 3p3' },
      { number: 16, category: 'p-block', electronConfig: '1s2 2s2 2p6 3s2 3p4' },
      { number: 17, category: 'p-block', electronConfig: '1s2 2s2 2p6 3s2 3p5' },
      { number: 18, category: 'p-block', electronConfig: '1s2 2s2 2p6 3s2 3p6' }
    ];
    
    // Δεδομένα Περίοδου 4: στοιχεία 19–30  
    // Τα 2 πρώτα (19,20) είναι s‑block, τα υπόλοιπα (21–30) είναι d‑block.
    const period4Elements = [
      { number: 19, category: 's-block', electronConfig: '1s2 2s2 2p6 3s2 3p6 4s1' },
      { number: 20, category: 's-block', electronConfig: '1s2 2s2 2p6 3s2 3p6 4s2' },
      { number: 21, category: 'd-block', electronConfig: '1s2 2s2 2p6 3s2 3p6 4s2 3d1' },
      { number: 22, category: 'd-block', electronConfig: '1s2 2s2 2p6 3s2 3p6 4s2 3d2' },
      { number: 23, category: 'd-block', electronConfig: '1s2 2s2 2p6 3s2 3p6 4s2 3d3' },
      { number: 24, category: 'd-block', electronConfig: '1s2 2s2 2p6 3s2 3p6 4s2 3d4' },
      { number: 25, category: 'd-block', electronConfig: '1s2 2s2 2p6 3s2 3p6 4s2 3d5' },
      { number: 26, category: 'd-block', electronConfig: '1s2 2s2 2p6 3s2 3p6 4s2 3d6' },
      { number: 27, category: 'd-block', electronConfig: '1s2 2s2 2p6 3s2 3p6 4s2 3d7' },
      { number: 28, category: 'd-block', electronConfig: '1s2 2s2 2p6 3s2 3p6 4s2 3d8' },
      { number: 29, category: 'd-block', electronConfig: '1s2 2s2 2p6 3s2 3p6 4s2 3d9' },
      { number: 30, category: 'd-block', electronConfig: '1s2 2s2 2p6 3s2 3p6 4s2 3d10' }
    ];
    
    // Καταστάσεις ελέγχου
    let currentPeriod = 2; // Ξεκινάμε με Περίοδο 2
    let indexPeriod2 = 0;
    let indexPeriod3 = 0;
    let indexPeriod4 = 0;
    
    // Αναφορές στους containers
    const period2Container = document.getElementById('period2');
    const period3Container = document.getElementById('period3');
    const period4Container = document.getElementById('period4');
    const electronConfigDiv = document.getElementById('electronConfig');
    const nextElementBtn = document.getElementById('nextElement');
    const continueBtn = document.getElementById('continue');
    
    /* Συνάρτηση που δημιουργεί και προσθέτει το στοιχείο στο grid.
       Αν το forcedColumn δεν είναι null, τότε το στοιχείο τοποθετείται στην συγκεκριμένη στήλη. */
    function revealElement(el, container, forcedColumn = null) {
      const elDiv = document.createElement('div');
      elDiv.className = `element ${el.category}`;
      elDiv.textContent = el.number;
      if (forcedColumn) {
        elDiv.style.gridColumn = forcedColumn;
      }
      elDiv.addEventListener('click', (e) => {
        e.stopPropagation();
        electronConfigDiv.innerHTML = `<strong>Στοιχείο ${el.number}:</strong><br>${formatElectronConfig(el.electronConfig)}`;
        electronConfigDiv.classList.toggle('expanded');
      });
      container.appendChild(elDiv);
    }
    
    // Συνάρτηση μορφοποίησης της ηλεκτρονιακής δομής
    function formatElectronConfig(configStr) {
      const parts = configStr.split(' ');
      const shells = {};
      parts.forEach(part => {
        const match = part.match(/^(\d+)([spdf])(\d+)/);
        if (match) {
          const formatted = `${match[1]}${match[2]}<sup>${match[3]}</sup>`;
          if (!shells[match[1]]) shells[match[1]] = [];
          shells[match[1]].push(formatted);
        }
      });
      const shellLabels = { '1': 'Κ (2)', '2': 'L (8)', '3': 'M (18)', '4': 'N (32)' };
      let html = '';
      Object.keys(shells).sort((a, b) => a - b).forEach(shell => {
        html += `<div>${shellLabels[shell] || ('Στίβα ' + shell)}: ${shells[shell].join(' ')}</div>`;
      });
      return html;
    }
    
    /* Χειριστής του κουμπιού "Επόμενο Στοιχείο" για Περίοδους 2 και 3 */
    nextElementBtn.addEventListener('click', () => {
      if (currentPeriod === 2) {
        if (indexPeriod2 < period2Elements.length) {
          const el = period2Elements[indexPeriod2];
          revealElement(el, period2Container);
          electronConfigDiv.innerHTML = `<strong>Στοιχείο ${el.number}:</strong><br>${formatElectronConfig(el.electronConfig)}`;
          indexPeriod2++;
          if (indexPeriod2 === period2Elements.length) {
            currentPeriod = 3;
          }
        }
      } else if (currentPeriod === 3) {
        if (indexPeriod3 < period3Elements.length) {
          const el = period3Elements[indexPeriod3];
          // Για τα δύο πρώτα στοιχεία (11,12) τοποθετούνται κανονικά (στήλες 1-2)
          // Από το τρίτο (στοιχείο 13, index 2) και μετά, θέτουμε forcedColumn = indexPeriod3 + 2
          if (indexPeriod3 < 2) {
            revealElement(el, period3Container);
          } else {
            revealElement(el, period3Container, indexPeriod3 + 2);
          }
          electronConfigDiv.innerHTML = `<strong>Στοιχείο ${el.number}:</strong><br>${formatElectronConfig(el.electronConfig)}`;
          indexPeriod3++;
          if (indexPeriod3 === period3Elements.length) {
            currentPeriod = 4;
            nextElementBtn.style.display = 'none';
            continueBtn.style.display = 'block';
          }
        }
      }
    });
    
    /* Χειριστής του κουμπιού "Συνέχεια" για την Περίοδο 4 */
    continueBtn.addEventListener('click', () => {
      if (currentPeriod === 4) {
        if (indexPeriod4 < period4Elements.length) {
          const el = period4Elements[indexPeriod4];
          // Για τα 2 πρώτα (19,20) τοποθετούνται κανονικά.
          // Για τα υπόλοιπα (d‑block, index ≥ 2) θέτουμε forcedColumn = (indexPeriod4 + 3)
          if (indexPeriod4 < 2) {
            revealElement(el, period4Container);
          } else {
            revealElement(el, period4Container, indexPeriod4 + 3);
            // Για το πρώτο στοιχείο του d‑block (στοιχείο 21, index 2) εμφανίζουμε το ειδικό μήνυμα.
            if (indexPeriod4 === 2) {
              electronConfigDiv.innerHTML = `<strong>Στοιχείο ${el.number}:</strong><br>${formatElectronConfig(el.electronConfig)}<br><br><em>Παρατηρείστε τη δομή του στοιχείου. Μετά από μετατόπιση των 6 στηλών του p κατά μία στήλη προς τα δεξιά, αυτό το στοιχείο τοποθετείται ως μετάπτωσης.</em>`;
            } else {
              electronConfigDiv.innerHTML = `<strong>Στοιχείο ${el.number}:</strong><br>${formatElectronConfig(el.electronConfig)}`;
            }
          }
          indexPeriod4++;
          if (indexPeriod4 === period4Elements.length) {
            continueBtn.disabled = true;
            continueBtn.textContent = 'Τέλος';
          }
        }
      }
    });
    
    // Εναλλαγή εμφάνισης λεπτομερειών με κλικ στο πλαίσιο δομής
    electronConfigDiv.addEventListener('click', () => {
      electronConfigDiv.classList.toggle('expanded');
    });
    
  </script>
</body>
</html>
